<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/mobile-UI/outstanding.css">
    <link rel="stylesheet" href="css/global.css">
    <title>Document</title>
</head>

<body>

    <div class="container-outstanding">
        <div class="container-heading-oustanding">
            <h1>Sản Phẩm Nổi Bật</h1>

            <button class="see-more">
                <a href="#">Xem Thêm</a>
            </button>
        </div>
        <section class="container-list-product">
            <div class="list-product">
                <div class="product-item">
                    <a href="#" class="container-info">
                        <img class="product-img" src="images/I9.46-18-681x800.png" alt="img">
                        <div class="product-info">
                            <p class="brand-name">SƠN IVANO</p>
                            <p class="product-name">IVANO IN FLAT Sơn Bóng NANO Nội Thất Cao Cấp I9.46</p>
                            <div class="product-action">
                                <div class="product-price">242.000₫ – 4.517.500₫</div>
                                <div class="action-add">
                                    <button type="submit" class="view-product">
                                        <p>Xem Nhanh</p>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>

                <div class="product-item">
                    <a href="#" class="container-info">
                        <img class="product-img" src="images/I9.46-18-681x800.png" alt="img">
                        <div class="product-info">
                            <p class="brand-name">SƠN IVANO</p>
                            <p class="product-name">IVANO IN FLAT Sơn Bóng NANO Nội Thất Cao Cấp I9.46</p>
                            <div class="product-action">
                                <div class="product-price">242.000₫ – 4.517.500₫</div>
                                <div class="action-add">
                                    <button type="submit" class="view-product">
                                        <p>Xem Nhanh</p>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>

                <div class="product-item">
                    <a href="#" class="container-info">
                        <img class="product-img" src="images/I9.46-18-681x800.png" alt="img">
                        <div class="product-info">
                            <p class="brand-name">SƠN IVANO</p>
                            <p class="product-name">IVANO IN FLAT Sơn Bóng NANO Nội Thất Cao Cấp I9.46</p>
                            <div class="product-action">
                                <div class="product-price">242.000₫ – 4.517.500₫</div>
                                <div class="action-add">
                                    <button type="submit" class="view-product">
                                        <p>Xem Nhanh</p>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>

            </div>
        </section>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
                if (window.matchMedia("(max-width: 600px)").matches) {
                    const listProduct = document.querySelector('.list-product');
                    const items = document.querySelectorAll('.product-item');
                    const itemWidth = items[0].offsetWidth + 10;

                    let currentIndex = 0;
                    let startX = 0;
                    let isDragging = false;

                    function slideNext() {
                        listProduct.style.transition = "transform 0.5s ease-in-out";
                        listProduct.style.transform = `translateX(-${itemWidth}px)`;

                        setTimeout(() => {
                            const firstItem = listProduct.querySelector('.product-item:first-child');
                            listProduct.appendChild(firstItem);

                            listProduct.style.transition = "none";
                            listProduct.style.transform = "translateX(0)";

                            currentIndex = (currentIndex + 1) % items.length;
                        }, 450);
                    }

                    function slidePrev() {
                        listProduct.style.transition = "none";
                        listProduct.style.transform = `translateX(-${itemWidth}px)`;

                        const lastItem = listProduct.querySelector('.product-item:last-child');
                        listProduct.insertBefore(lastItem, listProduct.firstChild);

                        setTimeout(() => {
                            listProduct.style.transition = "transform 0.5s ease-in-out";
                            listProduct.style.transform = "translateX(0)";
                        }, 50);
                    }

                  
                    listProduct.addEventListener('mousedown', (event) => {
                        startX = event.pageX;
                        isDragging = true;
                    });

                    listProduct.addEventListener('mousemove', (event) => {
                        if (isDragging) {
                            const diffX = event.pageX - startX;
                            if (diffX > 50) {
                                slidePrev();
                                isDragging = false;
                            } else if (diffX < -50) {
                                slideNext();
                                isDragging = false;
                            }
                        }
                    });

                    listProduct.addEventListener('mouseup', () => {
                        isDragging = false;
                    });

                    listProduct.addEventListener('mouseleave', () => {
                        isDragging = false;
                    });

                    // Lắng nghe sự kiện cảm ứng
                    listProduct.addEventListener('touchstart', (event) => {
                        startX = event.touches[0].pageX;
                        isDragging = true;
                    });

                    listProduct.addEventListener('touchmove', (event) => {
                        if (isDragging) {
                            const diffX = event.touches[0].pageX - startX;
                            if (diffX > 50) {
                                slidePrev();
                                isDragging = false;
                            } else if (diffX < -50) {
                                slideNext();
                                isDragging = false;
                            }
                        }
                    });

                    listProduct.addEventListener('touchend', () => {
                        isDragging = false;
                    });

                    listProduct.addEventListener('touchcancel', () => {
                        isDragging = false;
                    });

                    
                }
            });





    </script>
</body>

</html>